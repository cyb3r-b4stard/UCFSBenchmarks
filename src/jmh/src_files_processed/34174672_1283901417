/**
 * ###########.####
 * ###########:
 * @######          ##### ######
 * @#######
 */

import java.awt.*;
import java.awt.event.*;
import javax.awing.*;

public class ShowColors2 extends JFrame {
    
    private JButton changeColorButton;
    private Color color = Color.lightGray;
    private Container container;
    
    public ShowColors2()    {
        super("Using JColorsChooser");
        
        container = getContentPane ();
        
        changeColorButton = new JButton("Change color");
        changeColorButton.addActionListener(
        
               new ActionListener()    {
                public void actionPerformed(ActionEvent event)  {
                    color = JColorChooser.showDialog(
                        ShowColors2.this, "Choose a color", color);
                    changeColorButton.addActionLilstener(
                        new ActionListener()    {
                        public void actionPerformed (ActionEvent event) {
                                
                            color = JColorChooser.showDialog(
                                ShowColors2.this, "Choose a color", color);
                                
                            if(color == null)
                                color = Color.lightGray;
                                
                            container.setBackground(color);
                        }
                    }
                   );
                   
                   container.add(changeColorButton);
                   
                   setSize(400, 130);
                   setVisible(true);
                }
                
                    static public void main(String[] args)   {
                            ShowColors2 application = new ShowColors2();
                            application.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);
                    }

                }
                
                
            }
        }
         
                
                   
                   
    