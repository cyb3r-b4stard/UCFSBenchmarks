import java.util.ArrayList;
import java.util.Scanner;
/**
 * # ##### ## #### ####### ## ### ###### ## # ######## ######
 * 
 * ##### ### ### ###### 
 * ####### ##: ########
 * #### ### ####
 */
public class MovieDatabaseSystem
{
    private ListOfMovies movies;
    
    public MovieDatabaseSystem()
    {
        this.movies = movies;
    }

    /**
     * Showing the menu to choose 
     */
    public void displayMenu()
    {   
        System.out.println("1. Search movie");
        System.out.println("2. Add movie");
        System.out.println("3. Delete movie");
        System.out.println("4. Display movie");
        System.out.println("5. Exit");
        System.out.print("Please enter your choice");
        System.out.println();
    }
    
    public void start()
    {
        boolean isApplicationRunning = true;
        while(isApplicationRunning)
        {
            displayMenu();
            Scanner console = new Scanner(System.in);
            String userInput = console.nextLine().toUpperCase();
            switch(userInput)
            {
               case "1":
                    printWelcome();
                    System.out.println("Option 1 was selected.");
                    System.out.println("1. Search movie");
                    findMovie();
                    break;
                    
                case "2":
                    System.out.println("Option 2 was selected.");
                    addMovie();
                    break;
                    
               case "3":
                    System.out.println("Option 3 was selected.");
                    removeMovie();
                    break;
                    
                case "4":
                    System.out.println("Option 4 was selected.");
                    listMovie();
                    break;
                    
                case "5":
                    System.out.println("You've chose to exit the movie database system");
                    isApplicationRunning = false; 
                    printGoodbye();
                    break;
                    
               default:
                    System.out.println("Error: Invalid input");
                    break;            
            }
        }
    }   
           
    /**
     * Option 1: Search movie
     */
    public void findMovie()
    {
        String prefix;
        Scanner console = new Scanner(System.in);
        
        System.out.println("What are you searching for. Please type a prefix ");
        prefix = console.nextLine();
        
        Movie[] results = movies.search(prefix);
        for(int i = 0; i < results.length; i++){
            System.out.println(results[i]);
            System.out.println("=====");
        }
    }
    
    /**
     * Option 2: Add a movie to the collection.
     */
    public void addMovie()
    {
        Scanner console = new Scanner(System.in);
        
        System.out.print("Title: ");
        String title = console.nextLine();
        System.out.print("Director: " );
        String director = console.nextLine();
        System.out.print("Actor : ");
        String actor = console.nextLine();
        System.out.print("Rating : ");
        /String rating = console.nextLine(); 
        
        movies.addSingleMovie(new Movie(title, director, actor,rating));
    }
    
    /**
     *  Option 3: Delete Movie
     */
    public void removeMovie()
    {
        Scanner console = new Scanner(System.in);
        
        System.out.println("Type the movie to remove.");
        String key = console.nextLine();
        movies.removeSingleMovie(key);
    }
    
    /**
     * Option 4: Listing details of an existing movie(s)
     */
    public void listMovie()
    {
        System.out.println(movies.listSingleMovie());
    }
    
     private void printGoodbye()
    {
        System.out.println();
        System.out.println("Nice having you in the Movie Database System. Bye for now ");
        System.out.println();
    }   
    
    private void printWelcome()
    {
        System.out.println();
        System.out.println("Welcome to the Movie Database System!");    
        System.out.println();        
    }
}