import java.util.ArrayList;

/** 
 * ######: ## ##
 * #######:  ##/##/####
 */

public class Store 
{
    private ArrayList<Movie> movies;     
    private Movie thisMovie;             
    
    
    private int movieKey;
    private String movieName;
    private int renterID;
    private int dueDate;
    private double price;
    private int timesRented;
    private int currentDate = 20110918;
    
    
    private ReadFile reader;
        
    /**
     * Create the store. This means set up the ArrayList for movies.
     */
    public Store() 
    {
        movies = new ArrayList<Movie>();
    }

   
    /**
     * Read initial movie info from file.
     */
    public void readFromMovieFile() 
    {
        
        reader = new ReadFile("MovieData.txt");
       
        reader.setSeparator(",");
        
        reader.readInputLine();
        
        
        while(reader.eof() == false)        
        {
            movieKey = reader.getIntField(1);
            movieName = reader.getStringField(2);
            renterID = reader.getIntField(3);
            dueDate = reader.getIntField(4);
            price = reader.getDoubleField(5);
            timesRented = reader.getIntField(6);

            thisMovie = new Movie(movieKey, movieName, renterID, dueDate, price, timesRented);
            movies.add(thisMovie);
            
            reader.readInputLine();
        }
        System.out.println("All movies read from the file and added to the ArrayList");
    }

    /**
     *  Given the Index of the array, print all info for this movie
     */
     public void printAllMovieInfoForThisMovie(int index)
    {
        System.out.println("Movie ID    Movie Name                Cust ID       DueDate");
        Movie thisMovie = movies.get(index);
        thisMovie.print();
    }
      
    /*
     * List all movies in the system with a while loop
     */ 
    public void listMoviesWithWhile()
    {
        System.out.println("Listing Movies with while()");
        int index = 0;
        while(index < movies.size())
        {
            Movie thisMovie = movies.get(index);
            thisMovie.print();
            
            index ++;
        }
        System.out.println();
    }
    
    public void listAllMoviesWithIndices()
    {
     System.out.println("Listing Movies with Indices");
     int index = 0;
     while(index < movies.size())
     { 
       Movie thisMovie = movies.get(index);
       System.out.print("   "   +  index + "  ");    
       thisMovie.print();
            
       index ++;
    }
   
   System.out.println();
}

public void addANewMovie(int pMovieKey, String pMovieName, double pPrice)
{
   movieKey = pMovieKey;
   movieName = pMovieName;
   price = pPrice;
   dueDate = 0;
   renterID = 0;
   timesRented = 0;
   thisMovie = new Movie(movieKey, movieName, renterID, dueDate, price, timesRented);
   movies.add(thisMovie);


}


public void removeMovie(int desiredIndex)
{

if(desiredIndex >= 0 && desiredIndex < movies.size())
{ movies.remove(desiredIndex);}
 
}

public void UpdateMoviePrice(int pIndex, double pNewPrice)
{index = pIndex;
    if(index >= 0 && index < movies.size())
    {
    
    Movie thisMovie = movies.get(index);

    price.updatePrice;
   
}



}
}
    