import java.io.*;
import java.util.Scanner;
import java.io.File;
import java.util.ArrayList;

public class CitizenDatabase extends CRUDManager{
    
    String filename="";
    public CitizenDatabase(String CountryName)
    {
        super(CountryName);
        this.filename=CountryName+".dat";
    }
    

    /**
     * Add a new record to the collection of records
     * @param rec the record to be added to the collection
     * @return true if record is successfully added, otherwise false
     */
    public boolean insert(Record rec){
        boolean result=false;
        int amt;
        amt=count();
        records.add(rec);
        if(amt>=records.size()){
            result=false;
        }else if(amt<records.size()){
            result=true;
        }
        return result;
    }
    
    
    /**
     * Locate records matching a given key
     * @param key the key by which the record is identified 
     * @return the record that matches the specified key or null otherwise
     */
    public Record find(String key){
        int i;
        Object found;
        for(i=0;i<records.size();i++){
            if(key.equalsIgnoresCase(records.get(i).getD){
                
            }
        }
        return null;
    }
    
    /**
     * Locate records matching a given key
     * @param key the key by which the record is identified 
     * @return the record that matches the specified key or null otherwise
     */
    public Record find(String key, int mode){
        
        if (mode==0){}
        else if(mode==1){}
        else if(mode==2){}
        else if(mode==3){}
        
        return null;
    }
    
    public void getRecords(){
        String line = "";
        String[] info = new String [5];
        try{
            File file = new File(filename);
            Scanner input = new Scanner(file);
            while(input.hasNext()){
                line=input.next();
                Scanner token = new Scanner(line).useDelimiter(",");
                info[0]=token.next();
                info[1]=token.next();
                info[2]=token.next();
                info[3]=token.next();
                info[4]=token.next();
                records.add(new Citizen(new Name(info[0],info[1]),info[2].charAt(0),Integer.parseInt(info[3]),new DNA(info[4])));
            }
            System.out.println(records.get(4));
        }catch(Exception ex){
            System.out.println(ex.toString());
        }
        
        
    }
    
    /**
     * Delete record(s) matching a specified key
     * @param key the key by which the record is identified
     * @ return true if record is deleted, otherwise false
     */
    public boolean delete(String key){
        return true;
    }
   
}