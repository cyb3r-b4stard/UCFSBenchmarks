import info.gridworld.grid.Grid;
import info.gridworld.grid.BoundedGrid;
import info.gridworld.grid.Location;
import info.gridworld.world.World;
import java.awt.Color;

public class ChessWorld extends World<Superpiece>
{  
    public final Color team1 = Color.BLACK;
    public final Color team2 = Color.WHITE;
    private Color playerTurn = team2;
    public ChessWorld()
    {
        super(new BoundedGrid<Superpiece>(8,8));        
    }  

    public void setupBoard()
    {     
        int x=0;
        while (x<8)     
        { 
            add(new Location(1, x),new Pawn(team1)); 
            add(new Location(6, x++),new Pawn(team2)); 
        }

        add(new Location(0, 0),new Rook(team1));
        add(new Location(0, 1),new Knight(team1));
        add(new Location(0, 2),new Bishop(team1));
        add(new Location(0, 3),new Queen(team1));
        add(new Location(0, 4),new King(team1));
        add(new Location(0, 5),new Bishop(team1));  
        add(new Location(0, 6),new Knight(team1));
        add(new Location(0, 7),new Rook(team1));

        add(new Location(7, 0),new Rook(team2));
        add(new Location(7, 1),new Knight(team2));
        add(new Location(7, 2),new Bishop(team2));
        add(new Location(7, 3),new Queen(team2));
        add(new Location(7, 4),new King(team2));
        add(new Location(7, 5),new Bishop(team2));  
        add(new Location(7, 6),new Knight(team2));
        add(new Location(7, 7),new Rook(team2));
    }

    public boolean locationClicked(Location loc)
    {
        Superpiece piece = getGrid().get(loc);    
        if (!(piece.getTeam()==playerTurn))
            return false;
        piece.act(); 
        playerTurn=!playerTurn
        return true;
    }

}