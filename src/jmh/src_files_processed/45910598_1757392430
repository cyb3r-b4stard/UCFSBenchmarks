
import javafx.embed.swing.JFXPanel;
import javafx.application.Platform;
import javafx.stage.Stage;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.layout.Pane;
import javafx.scene.shape.Circle;
import javafx.scene.shape.Line;
import javafx.scene.shape.Polygon;
import javafx.scene.control.Button;
import java.util.ArrayList;
import javafx.scene.input.KeyEvent;
import javafx.scene.input.KeyCode;

public class Main {

    Circle circle1 = new Circle(150 ,150,5);
    Circle circle2 = new Circle(100,100,5);
    Circle circle3 = new Circle(100,150,5);

    Line line1 = new Line(circle1.getCenterX(),circle1.getCenterY(),circle2.getCenterX(),circle2.getCenterY());
    Line line2 = new Line(circle2.getCenterX(),circle2.getCenterY(),circle3.getCenterX(),circle3.getCenterY());
    Line line3 = new Line(circle1.getCenterX(),circle1.getCenterY(),circle3.getCenterX(),circle3.getCenterY());

    public void buildUI() {
        Stage primaryStage = new Stage();


        ArrayList<Circle> circle = new ArrayList<>();
        circle.add(circle1);
        circle.add(circle2);
        circle.add(circle3);

        circle1.setStyle("-fx-fill: black;");
        circle2.setStyle("-fx-fill: red;");
        circle3.setStyle("-fx-fill: blue;");
        Pane p = new Pane();
        p.getChildren().addAll(circle1,circle2,circle3,line1,line2,line3);

        p.setOnMouseDragged(e -> 

            {
                for(int i = 0; i < circle.size(); i++)
                {
                    if(circle.get(i).contains(e.getX(),e.getY()))
                    {
                        p.getChildren().clear();
                        circle.get(i).setCenterX(e.getX());
                        circle.get(i).setCenterY(e.getY());

                        Line line1 = new Line(circle1.getCenterX(),circle1.getCenterY(),circle2.getCenterX(),circle2.getCenterY());
                        Line line2 = new Line(circle2.getCenterX(),circle2.getCenterY(),circle3.getCenterX(),circle3.getCenterY());
                        Line line3 = new Line(circle1.getCenterX(),circle1.getCenterY(),circle3.getCenterX(),circle3.getCenterY());
                        p.getChildren().addAll(circle1,circle2,circle3,line1,line2,line3);
                    }
                }
            });

        line1.setOnKeyPressed(e -> 
            {
                if(e.getCode() ==  ){
                    line1.setStyle("-fx-fill: red");
                }

            });


        Scene scene = new Scene( p, 300, 300 );
        primaryStage.setTitle("Welcome to JavaFX");
        primaryStage.setScene(scene);
        primaryStage.show();

    }
    public void launchFX() {
        new JFXPanel();
        Platform.setImplicitExit(false);

        Platform.runLater( () -> buildUI() ); 
    }

    public static void main(String[] args) {
        Main app = new Main();
        app.launchFX();
    }

    
    
    
    
}
