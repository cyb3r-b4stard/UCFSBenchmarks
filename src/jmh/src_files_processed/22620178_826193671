
import java.awt.*;
import java.awt.geom.*;
import java.awt.event.*;
import java.applet.*;
import javax.swing.*;
import java.util.Random;
import java.lang.Object;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.lang.String;
import java.awt.Ca
/**
 * ##### ###### - ##### # ########### ## ### ##### ####
 * 
 * @###### (#### ####) 
 * @####### (# ####### ######)
 */
public class class1 extends Applet implements ActionListener
{
    Button Attack, Defend, Fire, Ice, Cure, Sacrifice;
    String damageMessage;
    String damageTakenMessage;
    int pHealth = 40, mHealth = 30, mana = 50;
    int mDamage, pDamage, fDamage, iDamage, healthBoost, defendBonus, counter, cDamage, dodge;
    int shield = 5;
    int damageDebuff = 1, frozenDamage = 1;
    int shieldBroken;
    int manaBoostDebuff = 0;
    boolean frozen = false;
    Random rndm = new Random();
    String mHealthDisplay = "Monster: " + mHealth;
    String pHealthDisplay = "Player: " + pHealth;
    String manaDisplay = "Mana: " + mana;
    String str;
    boolean animate = true;
    int shieldBonus = 1;
    boolean guard = false;
    Image slime1 = Toolkit.getDefaultToolkit().getImage("animationTest1.gif");
    Image slime2 = Toolkit.getDefaultToolkit().getImage("animationTest2.gif");
    Image slime3 = Toolkit.getDefaultToolkit().getImage("animationTest3.gif");
    Image slime4 = Toolkit.getDefaultToolkit().getImage("animationTest4.gif");
    Image slime5 = Toolkit.getDefaultToolkit().getImage("animationTest5.gif");
    Image image; 
    private Canvas myCanvas;
    public void init()
    {
        Attack = new Button("ATTACK");
        Defend = new Button("DEFEND");
        Fire = new Button("FIRE: 25 MANA");
        Ice = new Button ("ICE: 10 MANA");
        Cure = new Button ("CURE: 15 MANA");
        Sacrifice = new Button("SACRIFICE: 5 HEALTH");

        add(Attack);
        add(Defend);
        add(Fire);
        add(Ice);
        add(Cure);
        add(Sacrifice);

        myCanvas = new Canvas(600,500);                  
        
        Attack.addActionListener(this);
        Defend.addActionListener(this);
        Fire.addActionListener(this);
        Ice.addActionListener(this);
        Cure.addActionListener(this);
        Sacrifice.addActionListener(this);
    }

    public void start()
    {
        
    }

    public void stop()
    {
    }

    public void paint(Graphics g)
    {
        g.drawString(damageMessage,6,100);
        g.drawString(damageTakenMessage, 6, 120);
        g.drawString(pHealthDisplay, 6, 140);
        g.drawString(mHealthDisplay, 6, 160);
        g.drawString(manaDisplay, 6, 180);
        image = Toolkit.getDefaultToolkit().getImage("cooltext2.gif"); 
        g.drawImage(slime1,300,300,40,40,this);
        myCanvas.wait(10);
        g.drawImage(slime2,300,300,40,40,this);
        
        g.drawImage(slime3,300,300,40,40,this);
        
        g.drawImage(slime4,300,300,40,40,this);
       
        g.drawImage(slime5,300,300,40,40,this);
        
    }

    public void actionPerformed (ActionEvent e)
    {
        if(pHealth>0)        
        {
            if(mHealth>0)
            {
                str = e.getActionCommand();
                if(guard==true)
                {
                    defendBonus = 2;
                    guard = false;
                }
                else
                {
                    defendBonus = 1;
                }
                if(str.equals("ATTACK"))
                {
                    mDamage=rndm.nextInt(4) + 1;
                    damageMessage = "You swing at the monster, dealing " + (defendBonus * mDamage) + " damage.";
                    
                }
                else if (str.equals("DEFEND"))
                {
                    counter = rndm.nextInt(9);
                    if(counter>5)
                    {
                        cDamage = rndm.nextInt(10) + 3;
                        damageMessage = "You roll behind the monster and slash its back, dealing " + cDamage + " damage";
                        dodge = 0;
                        shieldBonus = 2;
                    }
                    else
                    {
                        if(shield>0)
                        {

                            {
                                guard = true;
                                defendBonus = 2;
                                damageMessage = "You raise your shield against the monsters next blow.";  
                                shield-=1;
                                
                            }
                        }
                        else if (shieldBroken!=1)
                        {
                            damageDebuff = 2;
                            damageMessage = "Your shield shatters, giving the monster a free chance to attack.";
                            shieldBroken = 1;
                        }
                        else
                        {
                            damageMessage = "Your shield, broken into shards, does nothing to help you.";
                            damageDebuff = 2;
                        }
                    }
                }
                else if (str.equals("FIRE: 25 MANA"))
                {
                    if(mana>=25)
                    {
                        fDamage=rndm.nextInt(8) + 2;
                        damageMessage = "You fry the monster for " + fDamage + " damage.";
                        mana-=25;
                       
                    }
                    else
                    {
                        damageMessage = "The fireball is too weak, resulting in a harmless ball of hot air.";
                    }
                }
                else if (str.equals("ICE: 10 MANA")) 
                {
                    if(mana>=10)
                    {
                        iDamage = rndm.nextInt(6);
                        if(iDamage>3)
                        {
                            damageMessage = "You freeze the monster for " + iDamage + " damage.";
                        }
                        else
                        {
                            damageMessage = "You freeze the monster for " + iDamage + " damage. The spell was able to prevent the monster from attacking you, for now.";
                            frozen = true;
                            frozenDamage = 0;
                          
                        }
                        mana-=10;
                    }
                    else
                    {
                        damageMessage = "The ice isn't cold enough, with only a splash of water hitting the monster.";
                    }
                }
                else if (str.equals("CURE: 15 MANA"))
                {
                    if(mana>=15)
                    {
                        healthBoost = rndm.nextInt(5) + 5;
                        damageMessage = "You heal yourself for " + healthBoost + " health.";
                        mana-=15;
                        
                    }
                    else
                    {
                        damageMessage = "You pray the spell works, but sadly, praying can't help this cure.";
                    }
                }    
                else if (str.equals("SACRIFICE: 5 HEALTH"))
                {
                    manaBoostDebuff = 5;
                    mana = mana + rndm.nextInt(5) + 5;
                    damageMessage = "You sacrifice some blood to regain some mana";
                }

                else
                {
                    damageMessage = "You die instantly from incompetence";
                    pHealth-=pHealth;
                }

                pDamage = (dodge * frozenDamage * (damageDebuff *((rndm.nextInt(6)/defendBonus) + 2)));
                mHealth = mHealth - (shieldBonus * (mDamage + fDamage + iDamage));
                pHealth = pHealth - pDamage + healthBoost - manaBoostDebuff;
                mDamage = 0;
                manaBoostDebuff = 0;
                defendBonus = 1;
                healthBoost = 0;
                damageDebuff = 1;
                iDamage = 0;
                fDamage = 0;
                dodge = 1;
                frozenDamage = 1;
                shieldBonus = 1;
                if(frozen == true)
                {
                    damageTakenMessage = "The monster is unable to move, for now";
                }
                else
                {
                    damageTakenMessage = "The monster attacks you for " + pDamage + " damage.";
                }
                frozen = false;
                mHealthDisplay = "Monster: " + mHealth;
                pHealthDisplay = "Player: " + pHealth;
                manaDisplay = "Mana: " + mana;
                repaint();
            }
            else
            {
                damageMessage = "You win!";
                damageTakenMessage = "The monster is slain";
                repaint();
            }
        }
        else
        {
            damageMessage = "Game Over";
            damageTakenMessage = "The monster eats your corpse";
            repaint();
        }
    }

    public void destroy()
    {

    }
}