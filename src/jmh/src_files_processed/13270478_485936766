import java.util.ArrayList;
import java.util.Iterator; 
/**
 * ######### ## ##### ###########
 * 
 * @###### ###### #### 
 * @####### ##.##.##
 */
public class Store
{
    private ArrayList<VHS> filmer;
    

    /**
     * Initialisering
     */
    public Store()
    {
        filmer = new ArrayList<VHS>();
    }

    /**
     * Legger til en film i ArrayList
     * @param filmnavn er navnet på VHS
     */
    public void addMovie(VHS filmnavn)
    {
        filmer.add(filmnavn);
    }
    
    /**
     * Fjerner en film
     * @param index er plasseringen elementet har i ArrayList
     */
    public void removeMovie(int index)
    {
        if (index >= 0 && index < filmer.size()) {
            filmer.remove(index);
        } 
        else {
            System.out.println("Følgende nummer er ikke gyldig: " + index);
        }
    }
        
    /**
     * Viser alle filmene som er inne for øyeblikket + detaljene om filmene
     */
    public void showAllMovies()
    {
        for (VHS filmnavn : filmer) {
            System.out.println("Tittel: " + filmnavn.getTitle());
            System.out.println("Utgivelsesår: " + filmnavn.getYearOfRelease());
            System.out.println("Aldersgrense: " + filmnavn.getAgeRating());
            System.out.println("Regissør: " + filmnavn.getDirector()); 
            System.out.println();
        }
    }
    
    /**
     * Alternativ metode for å liste alle filmer etter tittel, 
     * ved å bruke iterator
     */
    public void listAllMovies()
    {
        System.out.println("Disse filmene har vi inne for øyeblikket:");
        Iterator<VHS> it = filmer.iterator();
        while (it.hasNext()) {
            VHS filmnavn = it.next();
            System.out.println(filmnavn.getTitle());
        }
    }
    /**
     * Finner en film som inneholde den spesifikke Stringen
     * @param searchString er stringen man skriver inn for å søke
     */
    public void searchByName(String searchString)
    {
        for (VHS filmnavn : filmer) {
            if (filmnavn.getTitle().contains(searchString)) {
                System.out.println("Søkeresultater: " + filmnavn.getTitle());
            }
        }
    }
    
    /**
     * Finner en film som er laget av regissøren som blir søkt på
     * @param searchString er stringen man skriver inn for å søke
     */
    public void searchByDirector(String searchString)
    {
        System.out.println("Søkeresultater");
        System.out.println("Regissør: " + searchString);
        System.out.println("Filmer med denne regissøren: ");
        for (VHS filmnavn : filmer) {
            if (filmnavn.getDirector().contains(searchString)) {
                System.out.println(filmnavn.getTitle());
            }
        }
    }
    
    /**
     * Finner indeksnummeret på den første filen som matcher 
     * den gitte søk-Stringen
     * @param searchString er stringen man skriver inn for å søke
     * @return returnerer enten -1 for å gi metoden
     * beskjed om å slutte, eller index dersom
     * man finner den filmen man søker etter
     */
    public int findIndexNumber(String searchString)
    {
        int index = 0;
        boolean searching = true;
        
        while (searching && index < filmer.size()) {
            VHS filmnavn = filmer.get(index);
            if (filmnavn.getTitle().contains(searchString)) {
                searching = false; 
                System.out.println("Filmnavn: " + filmnavn.getTitle());
            } 
            else {
                index++;
            }
        }
        if (searching) { 
            System.out.println("Vi finner ingenting med disse søkekriterier.");
            return -1;
        }
        else {
            System.out.println("Indeksnummer: " + index);
            System.out.println("Du søkte på: " + searchString);
            return index;
        }
    }
    
    /**
     * Setter en barnesperre
     * @param ageLimit er den øvre aldersgrensen man skal sette
     */
    public void childSafety(int ageLimit)
    {
        System.out.println("Disse filmene er under " +
            "eller på din satte aldersgrense:");
        for (VHS filmnavn : filmer) {
            if (filmnavn.getAgeRating() <= ageLimit) {
                System.out.println(filmnavn.getTitle() +
                    ". Aldersgrense: " + filmnavn.getAgeRating());
            }
        }
    }
    
    /**
     * Øker antallet på en film 
     * @param howMany er antallet filmer
     */
    public int upQuantity (int howMany, String searchString)
    {
        boolean searching = true;
        while (searching) {
            if(filmnavn.getTitle().contains(searchString)) {
                filmnavn.getQuantity() += howMany;
                System.out.println("Nytt antall filmer: " + filmnavn.getQuantity());
                searching = false;
            }
            if  else (searching) {
                return false;
            }
        }
    
                
            
}