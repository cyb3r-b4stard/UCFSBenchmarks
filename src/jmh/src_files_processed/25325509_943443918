import java.util.Scanner;
import java.util.Arrays;
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
public class Encrypt
{
    String response;
    String rr;
    String dir;
    int shiftKey;
    char[] c;
    String temp;
    Scanner scan;
    String d;
    Scanner input;
    /**
     * Constructor for objects of class Encrypt
     */
    public Encrypt()
    {
    }
    
    public static void main (String[]args) throws IOException
    {
        Encrypt e = new Encrypt();
        e.printWelcome();
        e.printSpecs();
        e.readInput();
        e.printMessage();
        e.newCipher();
    }
    
    public void printWelcome()throws IOException{
        this.input = new Scanner(System.in);
        System.out.println();
        System.out.println("Do you want to encode or decode? (e/d) ");
        this.response = input.next().toLowerCase();
    }
    
    public void printSpecs()throws IOException{
        System.out.println("Enter key and direction (r/l) separated by a space.");
        this.scan = new Scanner (System.in);
        while (this.scan.hasNext()){
            this.shiftKey = scan.nextInt();
            this.dir = scan.next().toLowerCase();
            break;
        }
    }

    public void readInput()throws IOException{
        BufferedReader br = new BufferedReader(new InputStreamReader (System.in));
        System.out.println("Enter text: ");
        this.temp = br.readLine();
        int length = temp.length();
        this.c = new char[length];
    }
    
    public void printMessage()throws IOException {
        System.out.println("Your input: ");
        for (int i=0; i < c.length; i++){
            c[i] = temp.charAt(i);
            System.out.print(c[i]);
        }
        System.out.println();
    }
    
    public void newCipher()throws IOException{
        System.out.println("New Message: ");
        Cipher cc = new Cipher();
        cc.setKey(shiftKey);
        cc.setDirection(dir);
        if (response == "d"){
            for (int i=0; i<c.length;i++){
                c[i] = temp.charAt(i);
                cc.decode(c[i]);
                System..out.print(c[i]);
            }
        }
        if (response =="e"){
            for (int i=0; i<c.length; i++){
                c[i] = temp.charAt(i);
                cc.encode(c[i]);
                System.out.print(c[i]);
            }
        }
    }
}
    
